{"is_source_file": true, "format": "JavaScript", "description": "This file implements a React hook called usePlanePhysics that provides physics simulation for a plane object in a 3D environment, including position, velocity, orientation, and control handling. It includes helper functions for vector math, physics parameters, and methods to update or reset the physics state, suitable for use with react-three-fiber.", "external_files": ["./useKeyboardControls"], "external_methods": ["getControlsSnapshot"], "published": ["usePlanePhysics"], "classes": [], "methods": [{"name": "addVec3(a, b)", "description": "Adds two 3D vectors represented as arrays.", "scope": "", "scopeKind": ""}, {"name": "scaleVec3(a, s)", "description": "Scales a 3D vector by a scalar.", "scope": "", "scopeKind": ""}, {"name": "clamp(val, min, max)", "description": "Clamps a value between a minimum and maximum.", "scope": "", "scopeKind": ""}, {"name": "lengthVec3(a)", "description": "Calculates the Euclidean length of a 3D vector.", "scope": "", "scopeKind": ""}, {"name": "normalizeVec3(a)", "description": "Normalizes a 3D vector to unit length.", "scope": "", "scopeKind": ""}, {"name": "integrate(state, accel, dt)", "description": "Updates velocity and position based on acceleration and delta time using semi-implicit Euler.", "scope": "", "scopeKind": ""}, {"name": "getBasisFromEuler({ yaw, pitch, roll })", "description": "Computes forward, right, and up vectors from yaw, pitch, and roll angles.", "scope": "", "scopeKind": ""}, {"name": "usePlanePhysics(initialState = {}, params = {})", "description": "Main hook managing a plane's physics simulation, providing state retrieval, control over simulation, and an update method for each frame.", "scope": "", "scopeKind": ""}, {"name": "clampOrientation(o)", "description": "Ensures pitch and roll are within stable bounds, wrapping yaw as needed.", "scope": "", "scopeKind": ""}], "calls": ["getControlsSnapshot()"], "search-terms": ["usePlanePhysics", "react-three-fiber plane physics", "vector math utilities", "plane orientation control", "simulate plane physics"], "state": 2, "file_id": 16, "knowledge_revision": 63, "git_revision": "4806ee7ae8aa3dae0a6e7b89f5a99b74b83f3bd7", "revision_history": [{"38": ""}, {"63": "4806ee7ae8aa3dae0a6e7b89f5a99b74b83f3bd7"}], "ctags": [{"_type": "tag", "name": "DEFAULT_PARAMS", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^const DEFAULT_PARAMS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DEFAULT_STATE", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^const DEFAULT_STATE = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "addVec3", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function addVec3(a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, b)"}, {"_type": "tag", "name": "boostMultiplier", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  boostMultiplier: 1.8,  \\/\\/ Boost scale$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "brakeFactor", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  brakeFactor: 0.6,      \\/\\/ Multiplies thrust when brake is held (also adds drag)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function clamp(val, min, max) {$/", "language": "JavaScript", "kind": "function", "signature": "(val, min, max)"}, {"_type": "tag", "name": "clampOrientation", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function clampOrientation(o) {$/", "language": "JavaScript", "kind": "function", "signature": "(o)"}, {"_type": "tag", "name": "damping", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  damping: 0.02,         \\/\\/ Velocity damping (percent per second)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "drag", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  drag: 0.2,             \\/\\/ Linear drag coefficient (proportional to velocity)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "getBasisFromEuler", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function getBasisFromEuler({ yaw, pitch, roll }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ yaw, pitch, roll })"}, {"_type": "tag", "name": "gravity", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  gravity: 9.81,         \\/\\/ Gravity (m\\/s^2) downward$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "groundY", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  groundY: 0.0,          \\/\\/ Ground plane y$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "integrate", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function integrate(state, accel, dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, accel, dt)"}, {"_type": "tag", "name": "lengthVec3", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function lengthVec3(a) {$/", "language": "JavaScript", "kind": "function", "signature": "(a)"}, {"_type": "tag", "name": "liftFactor", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  liftFactor: 6.0,       \\/\\/ Lift force factor proportional to forward speed and pitch\\/roll$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "maxSpeed", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  maxSpeed: 80.0,        \\/\\/ Maximum speed clamp (m\\/s)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "minSpeed", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  minSpeed: 2.0,         \\/\\/ Minimum speed clamp (m\\/s)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeVec3", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function normalizeVec3(a) {$/", "language": "JavaScript", "kind": "function", "signature": "(a)"}, {"_type": "tag", "name": "orientation", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  orientation: {$/", "language": "JavaScript", "kind": "class", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "pitch", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^    pitch: 0,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class"}, {"_type": "tag", "name": "pitchRate", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  pitchRate: 1.2,        \\/\\/ Radians\\/sec pitch change at full input$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "position", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  position: [0, 10, 0],$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "restitution", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  restitution: 0.0,      \\/\\/ Bounce factor on ground collision (0 = no bounce)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "roll", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^    roll: 0,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class"}, {"_type": "tag", "name": "rollRate", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  rollRate: 1.8,         \\/\\/ Radians\\/sec roll change at full input$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "running", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  running: true,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "scaleVec3", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^function scaleVec3(a, s) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, s)"}, {"_type": "tag", "name": "thrust", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  thrust: 12.0,          \\/\\/ Base forward acceleration (m\\/s^2)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}, {"_type": "tag", "name": "usePlanePhysics", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^export function usePlanePhysics(initialState = {}, params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(initialState = {}, params = {})"}, {"_type": "tag", "name": "velocity", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  velocity: [0, 0, 0],$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE", "scopeKind": "class"}, {"_type": "tag", "name": "yaw", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^    yaw: 0,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class"}, {"_type": "tag", "name": "yawRate", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/hooks/usePlanePhysics.js", "pattern": "/^  yawRate: 1.6,          \\/\\/ Radians\\/sec yaw change at full input$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_PARAMS", "scopeKind": "class"}], "hash": "ffbff6bb3d0fe24692977d49d7f41c06", "format-version": 4, "code-base-name": "three_js_frontend", "filename": "three_js_frontend/src/hooks/usePlanePhysics.js", "fields": [{"name": "boostMultiplier: 1.8,  \\/\\/ Boost scale", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "brakeFactor: 0.6,      \\/\\/ Multiplies thrust when brake is held (also adds drag)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "damping: 0.02,         \\/\\/ Velocity damping (percent per second)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "drag: 0.2,             \\/\\/ Linear drag coefficient (proportional to velocity)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "gravity: 9.81,         \\/\\/ Gravity (m\\/s^2) downward", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "groundY: 0.0,          \\/\\/ Ground plane y", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "liftFactor: 6.0,       \\/\\/ Lift force factor proportional to forward speed and pitch\\/roll", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "maxSpeed: 80.0,        \\/\\/ Maximum speed clamp (m\\/s)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "minSpeed: 2.0,         \\/\\/ Minimum speed clamp (m\\/s)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "pitch: 0,", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class", "description": "unavailable"}, {"name": "pitchRate: 1.2,        \\/\\/ Radians\\/sec pitch change at full input", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "position: [0, 10, 0],", "scope": "DEFAULT_STATE", "scopeKind": "class", "description": "unavailable"}, {"name": "restitution: 0.0,      \\/\\/ Bounce factor on ground collision (0 = no bounce)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "roll: 0,", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class", "description": "unavailable"}, {"name": "rollRate: 1.8,         \\/\\/ Radians\\/sec roll change at full input", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "running: true,", "scope": "DEFAULT_STATE", "scopeKind": "class", "description": "unavailable"}, {"name": "thrust: 12.0,          \\/\\/ Base forward acceleration (m\\/s^2)", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}, {"name": "velocity: [0, 0, 0],", "scope": "DEFAULT_STATE", "scopeKind": "class", "description": "unavailable"}, {"name": "yaw: 0,", "scope": "DEFAULT_STATE.orientation", "scopeKind": "class", "description": "unavailable"}, {"name": "yawRate: 1.6,          \\/\\/ Radians\\/sec yaw change at full input", "scope": "DEFAULT_PARAMS", "scopeKind": "class", "description": "unavailable"}]}