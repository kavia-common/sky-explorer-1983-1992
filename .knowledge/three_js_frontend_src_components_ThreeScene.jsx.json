{"is_source_file": true, "format": "JavaScript/JSX", "description": "This file defines a React component 'ThreeScene' which sets up a complex 3D scene using three.js via @react-three/fiber, including sky, lights, environment, and camera controls. It also includes subcomponents and hooks like 'useEnvironmentHUD', 'Lights', and 'CameraRig' for scene management and interaction. Additionally, it contains UI overlay components for HUD display.", "external_files": ["@react-three/fiber", "@react-three/drei", "./Environment", "./Tree", "./Cloud"], "external_methods": ["useThree", "useFrame", "Sky"], "published": ["useEnvironmentHUD", "Environment", "TreesGroup", "CloudsGroup", "useSceneFog"], "classes": [], "methods": [{"name": "ThreeScene({ className = \"\", children })", "description": "Main React functional component that sets up the 3D scene with environment, sky, lights, camera, and optional children.", "scope": "", "scopeKind": ""}, {"name": "useEnvironmentHUD()", "description": "Hook to access environment interaction counters for HUD overlay.", "scope": "", "scopeKind": ""}, {"name": "HUDOverlay()", "description": "Component rendering HUD overlay showing trees and clouds counters.", "scope": "", "scopeKind": ""}, {"name": "Lights()", "description": "Component setting up scene lighting, including hemisphere and directional lights with shadows.", "scope": "", "scopeKind": ""}, {"name": "CameraRig({ followTarget = null })", "description": "Component managing a camera that smoothly follows a target, currently fixed but intended for future dynamic tracking.", "scope": "", "scopeKind": ""}], "calls": ["useThree()", "useFrame()", "useEnvironmentInteractionStore()", "useEffect()", "useMemo()", "camera.lookAt()"], "search-terms": ["ThreeScene", "React Three Fiber", "sky", "environment fog", "camera rig", "scene lighting", "CloudsGroup", "TreesGroup"], "state": 2, "file_id": 17, "knowledge_revision": 56, "git_revision": "f43f2d3ea788119d5a411c74f2e248cd3117be9f", "revision_history": [{"40": ""}, {"42": ""}, {"43": ""}, {"44": ""}, {"48": "37bd528ee864a09d9284404fe5323d6639dfcdbf"}, {"54": "f43f2d3ea788119d5a411c74f2e248cd3117be9f"}, {"55": "f43f2d3ea788119d5a411c74f2e248cd3117be9f"}, {"56": "f43f2d3ea788119d5a411c74f2e248cd3117be9f"}], "ctags": [{"_type": "tag", "name": "#ffffff", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        color={\"#ffffff\"}$/", "language": "JavaScript", "kind": "field", "scope": "Lights.color", "scopeKind": "class"}, {"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        <Sky inclination={0.49} azimuth={0.25} mieCoefficient={0.005} mieDirectionalG={0.7} rayl/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClasse66c2bc70201", "scopeKind": "class"}, {"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^      <hemisphereLight intensity={0.6} groundColor={\"#718096\"} color={\"#ffffff\"} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "Lights.AnonymousClasse66c2bc70401", "scopeKind": "class"}, {"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        intensity={1.3}$/", "language": "JavaScript", "kind": "field", "scope": "Lights.intensity", "scopeKind": "class"}, {"_type": "tag", "name": "18", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^            <TreesGroup count={18} radius={60} innerRadius={10} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClasse66c2bc70301", "scopeKind": "class"}, {"_type": "tag", "name": "CameraRig", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^function CameraRig({ followTarget = null }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ followTarget = null })"}, {"_type": "tag", "name": "HUDOverlay", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^function HUDOverlay() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Lights", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^function Lights() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ThreeScene", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^export default function ThreeScene({ className = \"\", children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ className = \"\", children })"}, {"_type": "tag", "name": "[1, Math.min(2, typeof window !== \"undefined\" ? window.devicePixelRatio : 1.5)]", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        dpr={[1, Math.min(2, typeof window !== \"undefined\" ? window.devicePixelRatio : 1.5)]}$/", "language": "JavaScript", "kind": "field", "scope": "ThreeScene.shadows", "scopeKind": "class"}, {"_type": "tag", "name": "[50, 80, 50]", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        position={[50, 80, 50]}$/", "language": "JavaScript", "kind": "field", "scope": "Lights.castShadow", "scopeKind": "class"}, {"_type": "tag", "name": "dirLightRef", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^        ref={dirLightRef}$/", "language": "JavaScript", "kind": "field", "scope": "Lights.ref", "scopeKind": "class"}, {"_type": "tag", "name": "scene-root ${className}", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^    <div className={`scene-root ${className}`} style={{ position: \"relative\", width: \"100%\", hei/", "language": "JavaScript", "kind": "field", "scope": "ThreeScene.AnonymousClasse66c2bc70101", "scopeKind": "class"}, {"_type": "tag", "name": "useEnvironmentHUD", "path": "/home/kavia/workspace/code-generation/sky-explorer-1983-1992/three_js_frontend/src/components/ThreeScene.jsx", "pattern": "/^export function useEnvironmentHUD() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "f836513827699442d39c6c18bc101992", "format-version": 4, "code-base-name": "three_js_frontend", "filename": "three_js_frontend/src/components/ThreeScene.jsx", "fields": [{"name": "color={\"#ffffff\"}", "scope": "Lights.color", "scopeKind": "class", "description": "unavailable"}, {"name": "<Sky inclination={0.49} azimuth={0.25} mieCoefficient={0.005} mieDirectionalG={0.7} rayl/", "scope": "AnonymousClasse66c2bc70201", "scopeKind": "class", "description": "unavailable"}, {"name": "<hemisphereLight intensity={0.6} groundColor={\"#718096\"} color={\"#ffffff\"} \\/>", "scope": "Lights.AnonymousClasse66c2bc70401", "scopeKind": "class", "description": "unavailable"}, {"name": "intensity={1.3}", "scope": "Lights.intensity", "scopeKind": "class", "description": "unavailable"}, {"name": "<TreesGroup count={18} radius={60} innerRadius={10} \\/>", "scope": "AnonymousClasse66c2bc70301", "scopeKind": "class", "description": "unavailable"}, {"name": "dpr={[1, Math.min(2, typeof window !== \"undefined\" ? window.devicePixelRatio : 1.5)]}", "scope": "ThreeScene.shadows", "scopeKind": "class", "description": "unavailable"}, {"name": "position={[50, 80, 50]}", "scope": "Lights.castShadow", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={dirLightRef}", "scope": "Lights.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "<div className={`scene-root ${className}`} style={{ position: \"relative\", width: \"100%\", hei/", "scope": "ThreeScene.AnonymousClasse66c2bc70101", "scopeKind": "class", "description": "unavailable"}]}